# Server
server.port=${SERVER_PORT:8080}

# Datasource (Supabase uses PostgreSQL)
# Prefer providing a full JDBC URL via SPRING_DATASOURCE_URL. Example:
# jdbc:postgresql://db.<project>.supabase.co:5432/postgres?sslmode=require
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/cramer}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}

# Use HikariCP settings (default in Spring Boot) and enable SSL for Supabase
spring.datasource.hikari.maximum-pool-size=${SPRING_DATASOURCE_MAX_POOL_SIZE:10}
spring.datasource.hikari.connection-timeout=${SPRING_DATASOURCE_CONN_TIMEOUT:30000}

# If Supabase requires SSL, ensure the JDBC URL includes ?sslmode=require or set property below
# Example JDBC URL with sslmode=require:
# jdbc:postgresql://db.x.supabase.co:5432/postgres?sslmode=require

# Ensure Hibernate uses the PostgreSQL dialect
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# JPA
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HBM2DDL:update}
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:false}

# Recommended: fail fast if DB is unreachable at startup (optional)
spring.datasource.tomcat.test-on-borrow=true
